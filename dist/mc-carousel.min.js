/**
 * mc-carousel v0.1.0 ()
 * Copyright 2015 Jesse Ocon
 * Licensed under MIT
 */
"use strict";!function(t,e,i){e.module("slideBridge",["slideBridge"]).factory("SlideBridge",[function(){var t;return t=function(){function t(t){t=t||{},this.elem=t.elem}return t.prototype.getBoundingProp=function(t){var e=["left","right","top","bottom","width","height"];if(e.indexOf(t)<0)throw new Error("Must be a property of element.getBoundingClientRect");return this.elem.getBoundingClientRect()[t]},t.prototype.setElemProp=function(t,e){if("string"==typeof t)this.elem.style[t]=e;else if("object"==typeof t){var n=!0,o=!1,s=i;try{for(var r,l=t[Symbol.iterator]();!(n=(r=l.next()).done);n=!0){var d=r.value;this.elem.style[d]=t[d]}}catch(u){o=!0,s=u}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw s}}}return this},t}()}])}(window,window.angular),function(t,e,i){e.module("slideContainerBridge",["slideBridge"]).factory("SlideContainerBridge",["SlideBridge",function(e){var i;return i=function(){function i(t){t=t||{},this.slides=[],this.slideCounter=0;var e={topPadding:100,bottomPadding:100,slideWidth:500,slideContainerSelector:"slide-container",slideSelector:"slide",advanceButtonSelector:"advance-button",retreatButtonSelector:"retreat-button",slideTransition:"left 0.5s ease 0s"};this.mergeProps(this,e,t),this.advanceButton=document.getElementById(this.advanceButtonSelector),this.retreatButton=document.getElementById(this.retreatButtonSelector),this.init()}return i.prototype.init=function(){return this.initializeSlides().initializeSlideContainerEl().positionSlides().bindEvents(),this},i.prototype.refresh=function(){return this.slides.splice(0),this.initializeSlides().initializeSlideContainerEl().positionSlides(),this},i.prototype.totalSlides=function(){return this.slides.length},i.prototype.addSlides=function(){this.initializeSlides(this.totalSlides()).positionSlides()},i.prototype.mergeProps=function(){var t,e,i=Array.prototype.slice.call(arguments);for(e=i.shift(),t=0;t<i.length;++t){var n=i[t];for(var o in n)e[o]=n[o]}return this},i.prototype.getSlideEls=function(){return document.getElementsByClassName(this.slideSelector)},i.prototype.initializeSlides=function(t){var i,n,o=this.getSlideEls();for(n=t?t:0,i=n;i<o.length;++i){var s=o[i],r=new e({elem:s});r.setElemProp("transition",this.slideTransition).setElemProp("top",this.topPadding+"px").setElemProp("width",this.width+"px"),this.slides.push(r)}return this},i.prototype.bindEvents=function(){var t=this;this.advanceButton&&this.advanceButton.addEventListener("click",function(){t.moveSlides("right")}),this.retreatButton&&this.retreatButton.addEventListener("click",function(){t.moveSlides("left")})},i.prototype.initializeSlideContainerEl=function(){return this.elem=document.getElementById(this.slideContainerSelector),this.elem.style.height=this.getContainerHeight()+"px",this},i.prototype.getContainerHeight=function(){return this.slides[0].getBoundingProp("height")+this.topPadding+this.bottomPadding},i.prototype.windowWidth=function(){return t.innerWidth||document.body.clientWidth},i.prototype.windowCenter=function(){return this.windowWidth()/2},i.prototype.getCounterOffset=function(t){return this.windowWidth()*t},i.prototype.getPanelWidth=function(t){return this.windowWidth()*t},i.prototype.getLeftPositionForCentered=function(){return this.windowCenter()-this.slides[0].getBoundingProp("width")/2},i.prototype.getSlideLeftPosition=function(t){return this.getLeftPositionForCentered()+this.getPanelWidth(t)-this.getCounterOffset(this.slideCounter)},i.prototype.positionSlide=function(t,e){return e.setElemProp("left",this.getSlideLeftPosition(t)+"px"),this},i.prototype.positionSlides=function(){var t;for(t=0;t<this.slides.length;++t){var e=this.slides[t];this.positionSlide(t,e)}return this},i.prototype.moveSlides=function(t,e){if("left"===t?this.slideCounter--:this.slideCounter++,this.slideCounter>=this.slides.length?this.slideCounter=0:this.slideCounter<0&&(this.slideCounter=this.slides.length-1),this.positionSlides(),e&&"function"==typeof e){var i=this.slides.length,n=this.slideCounter+1,o=this.slideCounter;e(i,n,o)}return this},i}()}])}(window,window.angular),function(t,e,i){e.module("mcCarouselSettings",[]).provider("mcCarouselSettings",function(){var t,i={containerClass:"mc-carousel-slide-container",slideClass:"mc-carousel-slide"},n=function(){return t||(t=e.copy(i)),t};return this.set=function(t,i){var o=n();return e.isObject(t)?e.extend(o,t):o[t]=i,this},this.$get=n,this})}(window,window.angular),function(t,e,i){e.module("mcSlides",[]).directive("mcSlides",["$timeout","SlideContainerBridge","$window",function(t,e,i){return{restrict:"EA",transclude:!0,scope:{buttons:"=",afterMove:"&onAfterMove"},template:'<div class="mc-carousel"><button ng-click="moveSlides(\'right\')" ng-if="buttons">right</button><button ng-click="moveSlides(\'left\')" ng-if="buttons">left</button></div><ng-transclude></ng-transclude>',link:function(n,o){function s(t,e){n.slideContainer.moveSlides(t,e)}function r(t,e,i){n.afterMove({totalSlides:t,currentSlideNo:e,currentSlideIndex:i})}var r;n.slideContainer=null,n.moveSlides=s,console.log("this is this: ",this),n.$on("mc.slides.forward",function(t,e){n.moveSlides("right",r)}),n.$on("mc.slides.back",function(t,e){n.moveSlides("left",r)}),n.$on("mc.slides.move",function(t,e){n.moveSlides(e,r)}),n.$on("mc.slides.added",function(t,e){n.slideContainer.addSlides()}),i.onresize=function(){n.slideContainer.positionSlides()},t(function(){n.slideContainer=new e({topPadding:100})},0,!1)}}}])}(window,window.angular),function(t,e,i){e.module("mcCarousel",["mcSlides","slideBridge","slideContainerBridge"])}(window,window.angular);